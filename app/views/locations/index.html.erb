<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
  html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
  </style>
  <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  <script type="text/javascript"
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBAaFvui-T1POvC7A_lWV2ToB76IRIe5w0">
  </script>

  <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>

</head>
<body>
<div class="jumbotron">
        <h1>Crisis Cache</h1>
        <p class="lead">Geo-referenced, emergency logging </p>
    <button type="button" class="btn btn-danger" id="danger_button" style="float:center">Danger</button>
      </div>

    <div  id="map-canvas"></div>
  <!-- </div> -->


</body>



<script type="text/javascript">

function bindEventListeners(){
 $("#danger_button").on("click",function(event){
  navigator.geolocation.getCurrentPosition(function(position) {

   var myLatlng = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);

   var marker = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'Hello World!'
  });

 })
})
}

function initializeWithCurrentPos() {

  navigator.geolocation.getCurrentPosition(function(position) {
    console.log(position.coords.latitude, position.coords.longitude);
    var mapOptions = {
      center: { lat: position.coords.latitude, lng: position.coords.longitude},
      zoom: 14
    };
    var map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);
  });

  var myLatlng = new google.maps.LatLng(37.450409,-122.164709);

   var marker = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'Hello World!'
  });

}
$(document).ready(function(){
  // initializeWithCurrentPos();
  // bindEventListeners();

  // INITILIAZE MAP
  var map;
  var marker1;
  var marker2;
  var marker3;
  var allmarkers;
  var markerCluster

  var mapOptions = {
      center: { lat: 37.443041799999996, lng: -122.15814759999999},
      zoom: 10
    };
    map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);
  });
  // GET CURRENT POSITION FROM HTML5 GEOCO
  navigator.geolocation.getCurrentPosition(function(position) {
    console.log(position.coords.latitude, position.coords.longitude);
    var mapOptions = {
      center: { lat: position.coords.latitude, lng: position.coords.longitude},
      zoom: 14
    };
////////////////////// CLUSTER A \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
   map = new google.maps.Map(document.getElementById('map-canvas'),
      mapOptions);
   //ADD MARKER 1
  var myLatlng = new google.maps.LatLng(37.450409,-122.164709);

   marker1 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 1,4 Casualties'
  });
   //ADD MARKER 2
   var myLatlng = new google.maps.LatLng(37.447782, -122.155434);

    marker2 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 2, 3 Casualties'
  });

////////////////////// CLUSTER B \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

    //ADD MARKER 4
   var myLatlng = new google.maps.LatLng(37.424243, -122.083628);

    marker4 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 13, 14 Casualties'
  });
// ADD MARKER 5
       var myLatlng = new google.maps.LatLng(37.419812, -122.077963);

    marker5 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 6, 10 Casualties'
  });
// ADD MARKER 6
       var myLatlng = new google.maps.LatLng(37.429628, -122.077105);

    marker6 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 10, 11 Casualties'
  });
////////////////////// CLUSTER C \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
// ADD MARKER 7
       var myLatlng = new google.maps.LatLng(37.522232, -122.013397);

    marker7 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 2, 9 Casualties'
  });

// ADD MARKER 8
       var myLatlng = new google.maps.LatLng(37.532850, -122.033997);

    marker8 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 4, 5 Casualties'
  });

// ADD MARKER 9
       var myLatlng = new google.maps.LatLng(37.529379, -122.013140);

    marker9 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 1, 2 Casualties'
  });

// ADD MARKER 10
       var myLatlng = new google.maps.LatLng(37.533871, -122.013311);

    marker10 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 11, 05 Casualties'
  });


////////////////////// CLUSTER D \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

   //ADD MARKER 11
  var myLatlng = new google.maps.LatLng(37.804070, -122.411351);

   marker11 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 1,4 Casualties'
  });
   //ADD MARKER 12
   var myLatlng = new google.maps.LatLng(37.804816, -122.405515);

    marker12 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 2, 3 Casualties'
  });


    //ADD MARKER 13
   var myLatlng = new google.maps.LatLng(37.805358, -122.416158);

    marker13 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 13, 14 Casualties'
  });
// ADD MARKER 14
       var myLatlng = new google.maps.LatLng(37.794372, -122.404056);

    marker14 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 6, 10 Casualties'
  });
// ADD MARKER 15
       var myLatlng = new google.maps.LatLng(37.805494, -122.405171);

    marker15 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 10, 11 Casualties'
  });
// ADD MARKER 16
       var myLatlng = new google.maps.LatLng(37.799594, -122.406459);

    marker16 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 2, 9 Casualties'
  });

// ADD MARKER 17
       var myLatlng = new google.maps.LatLng(37.805291, -122.405000);

    marker17 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 4, 5 Casualties'
  });

// ADD MARKER 18
       var myLatlng = new google.maps.LatLng(37.798644, -122.399678);

    marker18 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 1, 2 Casualties'
  });

// ADD MARKER 19
       var myLatlng = new google.maps.LatLng(37.804545, -122.408176);

    marker19 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: 'House 11, 05 Casualties'
  });

////////////////////// CLUSTER E \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\




  });

  $("#danger_button").on("click",function(event){
    promptText = "What would you like to log?";
    cas_number = prompt(promptText);
    console.log('Blocking attempt to submit form using preventDefault().'); // DEBUG
    event.preventDefault(); // Prevent default submit


    navigator.geolocation.getCurrentPosition(function(position) {

   var myLatlng = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);

    marker3 = new google.maps.Marker({
    position: myLatlng,
    map: map,
    title: cas_number
  });

  allmarkers = [marker1,marker2,marker3,marker4,marker5,marker6,marker7,marker8,marker9,marker10,marker11,marker12,marker13,marker14,marker15,marker16,marker17,marker18,marker19];
  markerCluster = new MarkerClusterer(map, allmarkers);


 })
})

      // google.maps.event.addDomListener(window, 'load', initialize);
      </script>
      </html>